@using Microsoft.AspNetCore.Identity
@using OgloszeniaSytem.Models
@inject SignInManager<ApplicationUser> SignInManager
@{
    var hasExternalLogins = (await SignInManager.GetExternalAuthenticationSchemesAsync()).Any();
}

<div class="list-group list-group-flush manage-nav">
    <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.IndexNavClass(ViewContext) == "active" ? "active" : "")" 
       asp-page="./Index">
        <i class="fas fa-user-circle fa-lg me-3 nav-icon"></i>
        <div>
            <div class="fw-semibold">Profil</div>
            <small class="text-muted">Dane osobowe i podstawowe informacje</small>
        </div>
    </a>
    
    <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.EmailNavClass(ViewContext) == "active" ? "active" : "")" 
       asp-page="./Email">
        <i class="fas fa-envelope fa-lg me-3 nav-icon"></i>
        <div>
            <div class="fw-semibold">Email</div>
            <small class="text-muted">Zmień adres email</small>
        </div>
    </a>
    
    <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.ChangePasswordNavClass(ViewContext) == "active" ? "active" : "")" 
       asp-page="./ChangePassword">
        <i class="fas fa-key fa-lg me-3 nav-icon"></i>
        <div>
            <div class="fw-semibold">Zmień hasło</div>
            <small class="text-muted">Zabezpiecz swoje konto</small>
        </div>
    </a>
    
    @if (hasExternalLogins)
    {
        <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.ExternalLoginsNavClass(ViewContext) == "active" ? "active" : "")" 
           asp-page="./ExternalLogins">
            <i class="fas fa-link fa-lg me-3 nav-icon"></i>
            <div>
                <div class="fw-semibold">Konta zewnętrzne</div>
                <small class="text-muted">Google, Facebook, itp.</small>
            </div>
        </a>
    }
    
    <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.TwoFactorAuthenticationNavClass(ViewContext) == "active" ? "active" : "")" 
       asp-page="./TwoFactorAuthentication">
        <i class="fas fa-shield-alt fa-lg me-3 nav-icon"></i>
        <div>
            <div class="fw-semibold">Uwierzytelnianie 2FA</div>
            <small class="text-muted">Dodatkowe zabezpieczenie</small>
        </div>
    </a>
    
    <a class="list-group-item list-group-item-action d-flex align-items-center py-3 @(ManageNavPages.PersonalDataNavClass(ViewContext) == "active" ? "active" : "")" 
       asp-page="./PersonalData">
        <i class="fas fa-download fa-lg me-3 nav-icon"></i>
        <div>
            <div class="fw-semibold">Dane osobowe</div>
            <small class="text-muted">Eksport i usuwanie danych</small>
        </div>
    </a>
</div>